<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>REDapp</title>
	<meta name="author" content="osweb.site" />
	<meta name="description" content="REDApp - снижай давление" />
	<meta name="keywords"  content="Сайт приложения для гипертоников RED" />
	<meta name="Resource-type" content="Document" />

	<link rel="stylesheet" type="text/css" href="jquery.pagepiling.css" />
	<link rel="stylesheet" type="text/css" href="examples.css" />

	<script src="jquery-1.8.3.min.js"></script>

	<script type="text/javascript" src="jquery.pagepiling.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {

			/*
			* Plugin intialization
			*/
	    	$('#pagepiling').pagepiling({
	    		anchors: ['start', 'instruction1','about', 'download'],
			    sectionsColor: ['#c40004','white' ,'#002159','#ff3300'],
			    navigation: {
			    	'position': 'left',
			   		'tooltips': ['Начало', 'Инструкция 1','Инструкция 2', 'О приложении', 'Скачать']
			   	},
			    afterRender: function(){
			    	$('#pp-nav').addClass('custom');
			    },
			    afterLoad: function(anchorLink, index){
			    	if(index>1){
			    		$('#pp-nav').removeClass('custom');
			    	}else{
			    		$('#pp-nav').addClass('custom');
			    	}
			    }
			});


			/*
		    * Internal use of the demo website
		    */
		    $('#showExamples').click(function(e){
				e.stopPropagation();
				e.preventDefault();
				$('#examplesList').toggle();
			});

			$('html').click(function(){
				$('#examplesList').hide();
			});
	    });
    </script>


</head>
<body>

	<div id="pagepiling">
	    <div class="section" id="section1">
			<div style="width: 100%;">
				<img src="imgs/maket (1).png" alt="pagePiling" style="width: 100%;"/>
			</div>
	    </div>
	    <div class="section" id="section2">
			<div style="width: 100%; height: 100%; display: flex;flex-direction: column; justify-content: center;">
				 <img src="imgs/instr3.png" alt="pagePiling" style="width: 100%; position: absolute;  background-color: white;"/>
				 <img src="imgs/instr2.png" alt="pagePiling" style="width: 100%; position: absolute;  background-color: white;" class="instructionImg2"/>
				 <img src="imgs/instr1.png" alt="pagePiling" style="width: 100%; position: absolute;  background-color: white;" class="instructionImg1"/>
				 <img src="imgs/play.png" alt="pagePiling" style="width: 20%;left: 40%; position: absolute;" id="playBtn" class="btn-play"/>
				 <audio crossorigin preload="auto" class="music">
					<source src="sound.mp3" type="audio/mpeg">
				  </audio>
			</div>
        </div>
	    <div class="section" id="section3">
			<div style="width: 100%;">
        		<img src="imgs/maket (4).png" alt="pagePiling" style="width: 100%;"/>
			</div>
	    </div>
		<div class="section" id="section4">
			<div style="width: 100%;">
				<img src="imgs/maket (5).png" alt="pagePiling" style="width: 100%;"/>
			</div>	
		</div>
	</div>



	<script>
$('#playBtn').click(function(){
	$('#playBtn').fadeOut('normal', function(){});
	$('.music')[0].play();
    $('.instructionImg1')
							.delay(2000)
							.fadeOut('normal', function(){});
							
	$('.instructionImg2')
							.delay(5000)
							.fadeOut('normal', function(){});
});
	  </script>


<script>
	;(function ( $, window, document, undefined ) {
	  'use strict';
		var pluginName = "audioly",
			defaults = {
		  element: ''
			};
	  
		function CDCPlugin( element, options ) {
			this.element = element;
			this.options = $.extend( {}, defaults, options) ;
			this._defaults = defaults;
			this._name = pluginName;
		  this.init();
		}
	  
		CDCPlugin.prototype = {
			init: function() {
		  var defaults = this._defaults;
		  
		  defaults.this = this;
		  defaults.element = this.element;
		  
		  defaults.status = 0;
		  
		  this.bindControls();
		  
		  //$( '.progress' ).css( 'width', $( '.audio-player' ).width() + 'px' );
		  
		  
		  defaults.element.addEventListener( 'timeupdate', function() {
			var currentTime = defaults.element.currentTime,
			  duration = defaults.element.duration,
			  percentage = ( currentTime + .25 ) / duration * 100;
			
			$( '.progress-bar' ).css( 'width', percentage + '%' ).attr( 'aria-valuenow', percentage );
			
			// $('.hp_range').stop(true,true).animate({'width':(currentTime +.25)/duration*100+'%'},250,'linear');
		  } );
	
		},
		bindControls: function() {
		  $( '.btn-play' ).on( 'click', function(){
			defaults.this.play();
		  } );
		  $( '.btn-stop' ).on( 'click', function() { 
			defaults.this.stop();
		  } );
		  $( '.btn-restart' ).on( 'click', function() { 
			defaults.this.goto( 0 );
		  } );
		  $( '.btn-back-5' ).on( 'click', function() { 
			defaults.this.goto( defaults.element.currentTime - 5 );
		  } );
		  $( '.btn-forward-5' ).on( 'click', function() { 
			defaults.this.goto( defaults.element.currentTime + 5 );
		  } );
		  $( '.btn-back-1' ).on( 'click', function() { 
			defaults.this.goto( defaults.element.currentTime - 1 );
		  } );
		  $( '.btn-forward-1' ).on( 'click', function() { 
			defaults.this.goto( defaults.element.currentTime + 1 );
		  } );
		  $( '.btn-volume-up' ).on( 'click', function() { 
			defaults.this.volume( 'up' );
		  } );  
		  $( '.btn-volume-down' ).on( 'click', function() { 
			defaults.this.volume( 'down' );
		  } );
		},
		play: function(){
		  if ( defaults.status == 0 || defaults.status == 2 ) {
			defaults.element.play();
			$( '.btn-play span' ).attr( 'class', 'fa fa-pause aligned' );
			defaults.status = 1;
		  } else if ( defaults.status == 1 ) {
			defaults.element.pause();
			$( '.btn-play span' ).attr( 'class', 'fa fa-play aligned' );
			defaults.status = 2;
		  }     
		},
		stop: function(){
		  defaults.element.pause();
		  defaults.this.goto( 0 );
		  $( '.btn-play span' ).attr( 'class', 'fa fa-play aligned' );
		  defaults.status = 0;      
		},
		goto: function( time ){
		  defaults.element.currentTime = time;
		},
		volume: function( direction ){
		  var volume = defaults.element.volume;
		  if ( direction == 'up' ) {
			if ( Math.round( 10 * volume ) / 10 >= 1 ) {
			  defaults.element.volume = 1;
			} else {
			  defaults.element.volume += 0.1;         
			}
		  } else {
			if ( Math.round( 10 * volume ) / 10 <= 0 ) {
			  defaults.element.volume = 0;
			} else {
			  defaults.element.volume -= 0.1;
			}
		  }
		}
		};
	
	  // don't let the plugin load multiple times
		$.fn[ pluginName ] = function( options ) {
		  return this.each( function() {
			if ( !$.data( this, "plugin_" + pluginName ) ) {
			  $.data( this, "plugin_" + pluginName, new CDCPlugin( this, options ) );
			}
		  } );
		};
	})( jQuery, window, document );
	
	
	if( jQuery().audioly ) {
	  $( 'audio' ).audioly();
	} else {
	  if ( console.error ) {
		console.error( 'The Bootstrap 4 Audio plugin is required.' ); 
	  } else {
		console.log( 'The Bootstrap 4 Audio plugin is required.' );
	  }
	}
	
	
	
	// function VolumeUp( music, id ) {
	//  var audio = $( '#' + id );
	//  var volume = $( '#' + id ).prop( 'volume' ) + 0.1;
	//  if ( volume > 1 ) volume = 1;
	//  $( '#' + id ).prop( 'volume', volume );
	// }
	
	// function VolumeDown( music, id ) {
	//  var audio = $( '#' + id );
	//  var volume = $( '#' + id ).prop( 'volume' ) - 0.1;
	//  if ( volume < 0 ) volume = 0;
	//  $( '#' + id ).prop( 'volume', volume );
	// }
	
	
	
	document.documentElement.setAttribute( 'lang', 'en' );
	document.documentElement.removeAttribute( 'class' );
	axe.run( function( err, results ) {
	  console.log( results.violations );
	} );
	  </script>

</body>
</html>
